# –®–∞–±–ª–æ–Ω "web-autotst-3P" (Python+Pytest+Playwright)

## –°—Ç—ç–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
<a href="https://www.python.org/"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Python.svg/360px-Python.svg.png" width="100" height="100" /></a>
<a href="https://docs.pytest.org/en/stable/"><img src="https://github.com/pytest-dev/pytest/raw/main/doc/en/img/pytest_logo_curves.svg" width="100" height="100" /></a>
<a href="https://playwright.dev/"><img src="https://playwright.dev/img/playwright-logo.svg" width="100" height="100" /></a>

–î–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ [Pytest](https://docs.pytest.org/en/7.4.x/)

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±—Ä–∞—É–∑–µ—Ä–∞–º–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ [Playwright](https://playwright.dev/python/).

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
_–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:_
* Python 3.10+
* Pytest 7.4+
* Brew
* Docker
* Allure


1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **Playwright** (–æ–Ω —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω—É–∂–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã; –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ):

    `$ playwright install`


2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã:

    `$ pip install -r requirements.txt --upgrade`


3. –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–ª–∞–≥–∞ **--numprocesses**

   `$ pytest --numprocesses auto`

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã, —Å–ª–µ–¥—É–µ—Ç:

1. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

    `$ pip install virtualenv`

    `$ virtualenv venv`

    `$ source venv/bin/activate`


2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `pip-upgrader`:

    `$ pip install pip-upgrader`


3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `pip-upgrader`:

    `$ pip-upgrade`


–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥—Ç—è–Ω–µ—Ç —Å–≤–µ–∂–∏–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ `requirements.txt` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏—Ö –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

4. –ï—Å–ª–∏ –±—ã–ª–∞ "–ø–æ–¥–Ω—è—Ç–∞" –≤–µ—Ä—Å–∏—è Playwright, —Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑—ã –±—Ä–∞—É–∑–µ—Ä–æ–≤:

    `$ playwright install`


## –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
üì¶pw_beeline
‚î£ üìÇlib                                   ‚Äì –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
‚îÉ ‚î£ üìÇdata                                ‚Äì –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç–∞—Ä–∏—Ñ—ã, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞—Ö                                 
‚îÉ ‚îÉ ‚î£ üìúowners.py
‚îÉ ‚îÉ ‚î£ üìúregions.py
‚îÉ ‚îÉ ‚îó üìú...and so on
‚îÉ ‚î£ üìÇfixtures                            ‚Äì –§–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–∞–º–∏
‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúallure_fixtures.py
‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúbrowser_fixtures.py
‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚îó üìú...
‚îÉ ‚î£ üìÇhelpers                             ‚Äì –ü–æ–º–æ—â–Ω–∏–∫–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞: —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏, —É—Ä–ª–∞–º–∏ –∏ —Ç.–¥.
‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúallure_reporter_helper.py
‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚î£ üìúdate_helper.py
‚îÉ ‚îÉ ‚îÉ ‚îÉ ‚îó üìú...
‚î£ üìÇpom                                   ‚Äì Page object model: —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Page Factory
‚îÉ ‚î£ üìÇpage_factory                        ‚Äì –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã: –∫–Ω–æ–ø–∫–∏, –∏–Ω–ø—É—Ç–∞, —á–µ–∫–±–æ–∫—Å–∞ –∏ —Ç.–¥.
‚îÉ ‚îÉ ‚î£ üìúbase_component.py
‚îÉ ‚îÉ ‚î£ üìúbutton.py
‚îÉ ‚îÉ ‚îó üìú...
‚îÉ ‚î£ üìÇpages                               ‚Äì –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —ç–ª–µ–º–µ–Ω—Ç—ã, –º–µ—Ç–æ–¥—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
‚îÉ ‚îÉ ‚î£ üìÇelk
‚îÉ ‚îÉ ‚îÉ ‚îó üìúpage.py
‚îÉ ‚îÉ ‚î£ üìÇhome_kit                          ‚Äì –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äì –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç, –≤–∫–ª—é—á–∞—é—â–∏–π –≤ —Å–µ–±—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–∞–Ω–Ω—ã–µ, —Å–∞–º –∫–ª–∞—Å—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÉ ‚îÉ ‚îÉ ‚î£ üìúactivation_request_popup.py
‚îÉ ‚îÉ ‚îó ‚îó üìúpage.py
‚î£ üìÇtests                                 ‚Äì –¢–µ—Å—Ç—ã, —Ä–∞–∑–±–∏—Ç—ã–µ –ø–æ –ø–∞–ø–∫–∞–º –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
‚îÉ ‚î£ üìÇauthorization
‚îÉ ‚îÉ ‚î£ üìúdata.py
‚îÉ ‚îÉ ‚îó üìútest_t57934_private_cabinet.py
‚îÉ ‚îó üìÇ...
‚î£ üìúconftest.py                           ‚Äì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –º–æ–¥—É–ª—å, –ø–æ–¥–∫–ª—é—á–∞—é—â–∏–π —Ñ–∏–∫—Å—Ç—É—Ä—ã, –ø–ª–∞–≥–∏–Ω—ã, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π –æ–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–∞–º–∏ –∏ —Ç.–¥.
‚î£ üìúprod.env                              ‚Äì –§–∞–π–ª, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ü—Ä–æ–¥-–æ–∫—Ä—É–∂–µ–Ω–∏—è
‚î£ üìúprodlike.env                          ‚Äì –§–∞–π–ª, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ü—Ä–æ–¥–ª–∞–π–∫-–æ–∫—Ä—É–∂–µ–Ω–∏—è
‚î£ üìúpytest.ini                            ‚Äì –†–µ–≥—É–ª–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞, –∑–∞–¥–∞—ë—Ç –æ–ø—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞ –∏ —Ç.–¥.
‚î£ üìúREADME.md                             ‚Äì –†–∏–¥–º–∏-—Ñ–∞–π–ª
‚îó üìúrequirements.txt                      ‚Äì –ü–µ—Ä–µ—á–µ–Ω—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Python-–±–∏–±–ª–∏–æ—Ç–µ–∫
```

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Å—Ç–µ–π—à–µ–≥–æ —Ç–µ—Å—Ç–∞

–ß—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–π —Ç–µ—Å—Ç –Ω–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã /home/kit —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ —Ç–æ, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–µ—Ä–Ω—ã–π, —Ç—Ä–µ–±—É–µ—Ç—Å—è
—Å–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç —Å –æ–±—ä–µ–∫—Ç–æ–º –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø–∞–∫–µ—Ç–µ `./pom/pages`:

`$ mkdir home_kit`

`$ touch __init__.py`

`$ touch page.py`

1. –í —Ñ–∞–π–ª–µ `page.py` –æ–ø–∏—Å–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—É–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–µ / –≤ –º–µ—Ç–æ–¥–µ PO.
–ù–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞.

   ```python
   from playwright.sync_api import Page
   from pom.page_factory.title import Title
   from pom.pages.base_page import BasePage
   
   class HomeKitPage(BasePage):
       def __init__(self, page: Page) -> None:
           super().__init__(page, path='/customers/products/home/kit/', name="–î–æ–º–∞—à–Ω–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –¢–í")
           self.page = page
   
           self._container = self.page.locator('[data-t-id*=FTTB2022]')
   
           self._heading_block_container = self._container.locator('[data-t-id=blocks-HeadingBlock]')
           self.main_title = Title(self.page, self._heading_block_container.locator('h1'), '–î–æ–º–∞—à–Ω–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç')
   ```

   –ú–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∑–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ—â–µ, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç `self.main_title`, –Ω–æ –∑–∞—á–∞—Å—Ç—É—é –Ω–∞–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å
   —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ß—Ç–æ–±—ã –∏—Ö –±—ã–ª–æ –ª–µ–≥—á–µ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –¥–∞–±—ã –ø–æ–≤—ã—Å–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤,
   —Å–æ–±–ª—é—Å—Ç–∏ —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏. –î–æ—Å—Ç—É–ø –∫ –Ω–∏–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ª–∏–±–æ 
   `private`, –ª–∏–±–æ `protected`, —Ç.–∫. –≤ —Å–∞–º–∏—Ö —Ç–µ—Å—Ç–∞—Ö –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∏–º –Ω–µ—Ç —Å–º—ã—Å–ª–∞.
   
   –î—Ä—É–≥–æ–µ –¥–µ–ª–æ ‚Äì —ç–ª–µ–º–µ–Ω—Ç—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å: –∫–Ω–æ–ø–∫–∏, –∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–µ–∫—Å—Ç, –∏–Ω–ø—É—Ç—ã –∏ —Ç.–¥.
   –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Å—Ç—Ä–µ—á–∞–µ–º–æ–≥–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–∏–ø–∞ –≤–µ–±-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –µ–≥–æ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –≤ 
   `./pom/page_factory`. –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–∞–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –æ–±–ª–µ–≥—á–∞–µ—Ç –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∫–æ–¥–∞, –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –≤ IDE —Ç–æ–ª—å–∫–æ 
   —Ç–µ –º–µ—Ç–æ–¥—ã, —á—Ç–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–¥–µ–ª–∞—Ç—å —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π —Ç–∏–ø –≤–µ–±-—ç–ª–µ–º–µ–Ω—Ç–∞ (–Ω–µ—Ç —Å–º—ã—Å–ª–∞ –ø–µ—á–∞—Ç–∞—Ç—å —á—Ç–æ-—Ç–æ –≤ –∫–Ω–æ–ø–∫—É,
   –¥–µ–ª–∞—Ç—å –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –∏ —Ç.–ø.), –∞ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ø–æ–ª—É—á–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Allure-–æ—Ç—á—ë—Ç–µ.

   –°–æ–∑–¥–∞–≤–∞—è —Å–≤–æ–π—Å—Ç–≤–æ `self.main_title`, –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ `Title`:
   * —Å–∞–º—É —Å—Ç—Ä–∞–Ω–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç–∞–µ–º;
   * –ª–æ–∫–∞—Ç–æ—Ä (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ ‚Äì –∏—â–µ–º "–≤–Ω—É—Ç—Ä–∏" –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–æ–≤ —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º `h1`);
   * –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Äì —á—Ç–æ —ç—Ç–æ: –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏", –∏–Ω–ø—É—Ç –ø–æ–∏—Å–∫–∞ –∏ –ø—Ä–æ—á–µ–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –ø–∏—Å–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ, —Ç.–∫. –æ–Ω–æ "–∑–∞—à–∏—Ç–æ" 
   –≤–Ω—É—Ç—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∞–º–æ–≥–æ Title, Button, etc.)


2. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –º–æ–¥—É–ª–µ `./lib/fixtures/page_fixtures.py`:

   ```python
   import pytest 
   from playwright.sync_api import Page
   from pom.pages.home_kit.page import HomeKitPage
   
   
   @pytest.fixture(scope='function')
   def home_kit_page(page: Page) -> HomeKitPage:
       _page = HomeKitPage(page)
       _page.visit()
       return _page
   ```
   
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ `./conftest.py`:

   ```python
   pytest_plugins = [
       'lib.fixtures.browser_fixtures',
       'lib.fixtures.page_fixtures',
       'lib.fixtures.allure_fixtures',
   ]
   ```
   
4. –í–Ω–µ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º–æ–º —Ç–µ—Å—Ç-–∫–µ–π—Å–µ –≤ `./lib/data/test_cases.py` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ —ç—Ç–æ–≥–æ 
–º–æ–¥—É–ª—è, —Å–æ–±–ª—é–¥–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

5. –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `./tests/broadband_access` —Å–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `data.py` –∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –¥–ª—è –Ω–∞—à–µ–≥–æ —Ç–µ—Å—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è—è  
—Å—Ç—Ä—É–∫—Ç—É—Ä—É: —Ç–µ—Å—Ç-–∫–µ–π—Å, –∞–±–æ–Ω–µ–Ω—Ç, –æ–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Ç—É–¥–∞ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —Å–∞–º –æ–∂–∏–¥–∞–µ–º—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫).

6. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å `test` ‚Äì `test_homekit_base_form.py`:

   ```python
   import allure
   from lib.fixtures.allure_fixtures import set_allure_info
   from pom.pages.home_kit.page import HomeKitPage
   from tests.authorization.data import TestData
   from lib.helpers.common_helper import data
   
   
   @allure.suite('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –®–ü–î-—Ç–∞—Ä–∏—Ñ–æ–≤')
   # –ö–ª–∞—Å—Å —Ç–æ–∂–µ –æ–±—è–∑–∞–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å "Test"
   class Test:
       # –ó–∞–¥–∞—ë–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, —Å–æ–¥–µ—Ä–∂–∞—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ—Å—Ç-–∫–µ–π—Å–µ –∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
       t111 = TestData.T111
       # —Ñ—É–Ω–∫—Ü–∏—è data() –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±—ä–µ–∫—Ç–∞
       test_data = data(t111)
       
       # –í—ã–∑—ã–≤–∞–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –≤ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Å—Ç-–∫–µ–π—Å–µ: –∞–π–¥–∏, —Å–µ—Ä—å—ë–∑–Ω–æ—Å—Ç—å, –≤–ª–∞–¥–µ–ª–µ—Ü; 
       # —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –ó–µ—Ñ–∏—Ä
       @set_allure_info(t111['test_case']['id'])
       # –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–∂–µ —Å–ª–µ–¥—É–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å —Å "test".
       # –ü–µ—Ä–µ–¥–∞—ë–º —Ñ–∏–∫—Å—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã home_kit_page, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—Å–µ—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë –æ–±—ä–µ–∫—Ç.
       # –ü–µ—Ä–µ–¥–∞—ë–º –æ–∂–∏–¥–∞–µ–º—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫.
       def test_t5111_base_form(self, home_kit_page: HomeKitPage, expected_title=test_data['expected_values']['values']):
           home_kit_page.h1.should_have_text(expected_title)
   ```

## –ó–∞–ø—É—Å–∫

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —É—Å–ª–æ–≤–∏–µ–º –¥–ª—è –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—É—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `--envfile` —Å –æ–¥–Ω–∏–º –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ–∞–π–ª–æ–≤ `*.env`.

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω–æ—á–Ω—ã–π —Ç–µ—Å—Ç –º–æ–∂–Ω–æ, –ø–µ—Ä–µ–¥–∞–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `-k` –∏ —É–∫–∞–∑–∞–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–µ—Å—Ç-–∫–µ–π—Å–∞, –ª–∏–±–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∞–º–æ–≥–æ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞:

`$ pytest -k t1998 --envfile prod.env`

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤

–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä (—É –Ω–∞—Å —Ç–µ—Å—Ç—ã –æ–¥–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –º–æ–¥—É–ª–∏ ‚Äì —Ñ–∞–π–ª—ã):

`$ pytest -v /tests/elk/test_balance_top --envfile prod.env`

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

`$ pytest --envfile prodlike.env`

–î–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `-n` (–ª–∏–±–æ `--numprocesses`) –∏ —É–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
–ó–∞–ø—É—Å–∫–∞—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ ‚Äì —Ç–∞–∫ –æ–Ω–∏ –ø—Ä–æ–π–¥—É—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ. –¢–∞–∫–∂–µ –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å headless-mode.

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ headed-mode

–ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –Ω–∞–±–ª—é–¥–µ–Ω–∏–∏ –∑–∞ —Ç–µ–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞/—Ç–µ—Å—Ç–æ–≤, –º–æ–∂–Ω–æ –ø—Ä–∏ –µ–≥–æ/–∏—Ö 
–∑–∞–ø—É—Å–∫–µ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `--headed`, –ª–∏–±–æ –∂–µ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `addopts` –≤ `pytest.ini`, –¥–æ–ø–∏—Å–∞–≤ `--headed` –≤ –∫–æ–Ω–µ—Ü 
—Ñ–∞–π–ª–∞.

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ –¥–µ–±–∞–≥-—Ä–µ–∂–∏–º–µ Playwright

#### Tracing –∏ Inspector

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø—Ä–∏ –¥–µ–±–∞–≥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É Playwright –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Tracing –∏ Inspector (Debug). 
Tracing –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–≥–æ–Ω–∞: –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –ª–æ–≥–∏, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ –≤—Ä–µ–º—è 
–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞, –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏ —Ç.–¥. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å [–∑–¥–µ—Å—å](https://playwright.dev/python/docs/debug). 

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä—ç–π—Å–∏–Ω–≥–∞ –≤ –≥–ª–∞–≤–Ω—É—é —Ñ–∏–∫—Å—Ç—É—Ä—É `page` (`lib/fixtures/page_fixtures.py::page`) –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ—á–∫—É –≤ –Ω–∞—á–∞–ª–µ 
—Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Å—Ç—Ä–æ—á–∫—É –≤ –∫–æ–Ω—Ü–µ:

```python
@pytest.fixture
def page(context: BrowserContext) -> None:
    context.tracing.start(screenshots=True, snapshots=True, sources=True)
    page = context.new_page()
    source_url = os.getenv('BASE_URL')
    yield page
    os.environ['BASE_URL'] = source_url
    page.close()
    context.tracing.stop(path="trace.zip")
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –±—É–¥–µ—Ç –≤–∫–ª—é—á–µ–Ω–∞ –∑–∞–ø–∏—Å—å —Ç—Ä—ç–π—Å–∏–Ω–≥–∞, –≤ –∫–æ–Ω—Ü–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—à–µ—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤ `trace.zip` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

–ß—Ç–æ–±—ã —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∞—Å—å, —Ç–µ—Å—Ç –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `--tracing on`

`$ pytest -v -s -k t47865 --envfile prod.env --headed --tracing on`

–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:

`$ playwright show-trace trace.zip`

–∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä–æ–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –±—Ä–∞—É–∑–µ—Ä–∞ —Å–æ –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä–∞ (–¥–µ–±–∞–≥–∞), –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ Playwright (–Ω–µ –∏–º–µ–µ—Ç –æ–±—â–µ–≥–æ —Å –¥–µ–±–∞–≥–æ–º IDE –∏ –ø—Ä. ‚Äì —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ 
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ, —Ç–∞–∫ –∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å), –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ –∫–æ–º–∞–Ω–¥–æ–π –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤: `PWDEBUG=1`:

`$ PWDEBUG=1 pytest -v -s -k t47865 --envfile prod.env --headed --tracing on`

–í –∫–∞—á–µ—Å—Ç–≤–µ —Å–≤–æ–µ–æ–±—Ä–∞–∑–Ω–æ–≥–æ ¬´–±—Ä—ç–π–∫–ø–æ–∏–Ω—Ç–∞¬ª –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `page.pause()` –ø—Ä—è–º–æ –≤ —Ç–µ—Å—Ç–∞—Ö. –¢–∞–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ 
–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä —Å–µ–π—á–∞—Å –≤—ã–±—Ä–∞–Ω, —Å –∫–∞–∫–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º 
–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, –∞ —Ç–∞–∫–∂–µ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏ ‚Äì –∏—Å–∫–∞—Ç—å –Ω—É–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –ø—Ä—è–º–æ –≤ –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫.

#### –¢–∞–π–º–∞—É—Ç

–ë—ã–≤–∞—é—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —Ç–∞–π–º–∞—É—Ç, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (30 —Å–µ–∫—É–Ω–¥), –∑–∞–º–µ–¥–ª—è–µ—Ç –¥–µ–±–∞–≥ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ—Å—Ç–∞. 
–ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ—à—Ç–∞—Ç–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∂–¥–∞—Ç—å –ø–æ–ª–º–∏–Ω—É—Ç—ã. 
–í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ç–∞–π–º–∞—É—Ç–∞. –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º 
–º–µ—Ç–æ–¥–µ –æ–∂–∏–¥–∞–Ω–∏–π/–ø—Ä–æ–≤–µ—Ä–æ–∫, —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `timeout=‚Ä¶`, –µ—Å–ª–∏ –∂–µ –µ—Å—Ç—å –Ω—É–∂–¥–∞ –∑–∞–¥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è –≤—Å–µ—Ö 
—Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–æ–∫, —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –¥–æ–±–∞–≤–∏–≤ —Å—Ç—Ä–æ—á–∫—É:

```python
context.set_default_timeout(15_000)
```

–≤ –Ω–∞—á–∞–ª–æ —Ñ–∏–∫—Å—Ç—É—Ä—ã `page` (`lib/fixtures/page_fixtures.py::page`)

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —É–ø–∞–≤—à–∏—Ö

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —É–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ–ª–∞–≥ `--lf`:

`$ pytest -v -s --envfile prod.env --lf`

–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ —É–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã (–µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –±—É–¥—É—Ç) –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—è—Ç—Å—è –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫.

## –û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `./allure-results`. –î–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

`$ allure serve`

–£–ø–∞–≤—à–∏–µ —Ç–µ—Å—Ç—ã —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ –º–æ–º–µ–Ω—Ç –ø–∞–¥–µ–Ω–∏—è –∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —à–∞–≥—É –≤ 
Allure-–æ—Ç—á—ë—Ç–µ.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —à–∞–≥–∏ –≤ –æ—Ç—á—ë—Ç–∞—Ö —Å–¥–µ–ª–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º–∏ –∏ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –≤ —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç–∞–∫–æ–≥–æ –æ—Ç—á—ë—Ç–∞,
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `with allure...` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ "—Å–∫–ª–µ–∏–≤–∞—é—Ç" —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —ç–ª–µ–º–µ–Ω—Ç–∞, 
–¥–µ–π—Å—Ç–≤–∏—è (–∫–ª–∏–∫, —Ö–æ–≤–µ—Ä, –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –ø—Ä–æ—á–µ–µ). –î–ª—è –∫–∞–∫–∏—Ö-—Ç–æ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –≤–µ—â–µ–π —Ç–∏–ø–∞ –±–∏–∑–Ω–µ—Å-—à–∞–≥–æ–≤ –º–æ–∂–Ω–æ 
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, "–∑–∞—à–∏—Ç—É—é" –≤ —Å–∞–º –±–∏–∑–Ω–µ—Å-–º–µ—Ç–æ–¥. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, –ø–æ–¥–æ–±–Ω—ã–π —à–∞–≥ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö 
–±–æ–ª–µ–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö —à–∞–≥–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—é—â–µ–º—É –æ—Ç—á—ë—Ç —á–µ–ª–æ–≤–µ–∫—É –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –¥–µ–π—Å—Ç–≤–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è 
–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –º–µ—Ç–æ–¥–∞.